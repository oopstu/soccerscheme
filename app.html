<htnl>
    <head>
        <title>Footyball</title>
        <link rel="stylesheet" href="footstyle.css">
        <script lang="javacsript">

            var GameData = {
                Players: [
                    {
                        "name": "Kaleb",
                        "num": 0
                    },
                    {
                        "name": "David",
                        "num": 13
                    },
                    {
                        "name": "Emerson",
                        "num": 11
                    },
                    {
                        "name": "Joe",
                        "num": 1
                    },
                    {
                        "name": "Erik",
                        "num": 3
                    },
                    {
                        "name": "Nathan",
                        "num": 30
                    }
                ],
                GK: {},
                CBL: {},
                CBR: {},
                HBL: {},
                HBR: {},
                CDM: {},
                LM: {},
                RM: {},
                CAM: {},
                HF: {},
                LF: {},
                Selected: {}
            };

            function togglePlayer(playerCard) {
                // Check if there is an active player
                // or not.
                if (playerCard.classList.contains("pcactive") === false) {
                    var selPlay = playerCard.children["name"].textContent;
                    // alert('selected: ' + selPlay)
                    GameData.Selected = GameData.Players.find(x => x.name === selPlay);
                } else {
                    // alert('no one selected.');
                    GameData.Selected = null;
                }
                var playercards = Array.from(document.getElementById("bench").children);
                playercards.forEach(eachPDiv => {

                    if (eachPDiv.classList.contains("playercard"))         {
                        // each player - if not selected fix style.
                        const innerDiv = eachPDiv.querySelector('#name');
                        if (GameData.Selected && innerDiv.innerHTML 
                            === GameData.Selected.name) {
                                eachPDiv.classList.add("pcactive");
                            
                            } else {
                                eachPDiv.classList.remove("pcactive");
                            }

                    }

                });
            }
            function assign(fieldSpot) {
                // Apply selected player to the selected field Position.
                fieldSpot.classList.add("fieldactive");
                fieldSpot.innerHTML = GameData.Selected.name;
            }
        </script>
    </head>
    <body>
        <div class="flexrow">
            <span>Play</span>
            <span>Total Game Time</span>
        </div>
        <div class="flexrow">
        <div class="bench" id="bench">
            <div class="sectiontitle">Bench</div>
            <script lang="javacsript">

                var bench = document.getElementById('bench');
        GameData.Players.forEach(player => {

            var d = document.createElement("div");
            
            d.innerHTML = "<div id='name'>" 
                + player.name 
                + "</div><div id='playtime'>0</div>";
            d.classList.add("playercard");
            d.addEventListener('click', () => {

                togglePlayer(d);

            });
            bench.appendChild(d);
        });
                
            </script>
        <!-- End of Bench -->  
      </div>
        <div id='field' class="field">
            <div class="fieldplayer gk inactive" onclick="assign(this)"></div>
            <div class="fieldplayer hf inactive" onclick="assign(this)"></div>
            <div class="fieldplayer lf inactive" onclick="assign(this)"></div>
            <div class="fieldplayer cam inactive" onclick="assign(this)"></div>
            <div class="fieldplayer lm inactive" onclick="assign(this)"></div>
            <div class="fieldplayer cdm inactive" onclick="assign(this)"></div>
            <div class="fieldplayer rm inactive" onclick="assign(this)"></div>
            <div class="fieldplayer lhb inactive" onclick="assign(this)"></div>
            <div class="fieldplayer cbl inactive" onclick="assign(this)"></div>
            <div class="fieldplayer cbr inactive" onclick="assign(this)"></div>
            <div class="fieldplayer rhb inactive" onclick="assign(this)"></div>
        </div>
        <div>Game Summary</div>
        </div>
        <div class="flexrow">
        <div>Action Buttons</div>
    </div>
</body>
</htnl>